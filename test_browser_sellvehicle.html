<!DOCTYPE html>
<html>
<head>
    <title>SellVehicle Translation Test</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .pass { background-color: #d4edda; color: #155724; }
        .fail { background-color: #f8d7da; color: #721c24; }
        .warning { background-color: #fff3cd; color: #856404; }
        iframe { width: 100%; height: 600px; border: 1px solid #ccc; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>SellVehicle Page Translation Test</h1>
    <p>Testing page: <a href="http://localhost:8082/sell-vehicle" target="_blank">http://localhost:8082/sell-vehicle</a></p>
    
    <div id="test-results"></div>
    
    <h2>Page Preview (Default Language)</h2>
    <iframe src="http://localhost:8082/sell-vehicle" id="page-frame"></iframe>

    <script>
        // Test function to check page content
        async function testPageTranslations() {
            const testResults = document.getElementById('test-results');
            testResults.innerHTML = '<p>Running tests...</p>';
            
            try {
                // Fetch the page content
                const response = await fetch('http://localhost:8082/sell-vehicle');
                const html = await response.text();
                
                // Check for common English phrases that shouldn't appear in translated versions
                const englishPhrases = [
                    'What type of vehicle are you selling?',
                    'Basic Information',
                    'Vehicle Details',
                    'Photos and Contact Info',
                    'Upload Vehicle Photos',
                    'Add up to 10 photos',
                    'Choose Photos',
                    'Next Step',
                    'Previous',
                    'Create Listing',
                    'Make',
                    'Model',
                    'Year',
                    'Mileage',
                    'Fuel Type',
                    'Transmission',
                    'Condition',
                    'Asking Price',
                    'Description',
                    'Contact Name',
                    'Phone Number',
                    'Email Address',
                    'Location',
                    'Select Make',
                    'Enter Model',
                    'Select Year',
                    'Enter Mileage',
                    'Enter Asking Price',
                    'Describe your vehicle',
                    'Your Name',
                    'Your Phone Number',
                    'Your Email',
                    'City, Country'
                ];
                
                let results = [];
                let foundEnglish = [];
                
                // Test for hardcoded English
                englishPhrases.forEach(phrase => {
                    if (html.includes(phrase)) {
                        foundEnglish.push(phrase);
                    }
                });
                
                if (foundEnglish.length > 0) {
                    results.push({
                        type: 'warning',
                        message: `Found potential hardcoded English text: ${foundEnglish.join(', ')}`
                    });
                } else {
                    results.push({
                        type: 'pass',
                        message: 'No hardcoded English text found in initial load'
                    });
                }
                
                // Check for translation function calls
                if (html.includes('t(') && html.includes('sell.')) {
                    results.push({
                        type: 'pass',
                        message: 'Page uses translation functions for sell-related keys'
                    });
                } else {
                    results.push({
                        type: 'warning',
                        message: 'Translation function usage not detected in HTML source'
                    });
                }
                
                // Display results
                let resultsHTML = '<h2>Test Results</h2>';
                results.forEach(result => {
                    resultsHTML += `<div class="test-result ${result.type}">${result.message}</div>`;
                });
                
                testResults.innerHTML = resultsHTML;
                
            } catch (error) {
                testResults.innerHTML = `<div class="test-result fail">Error testing page: ${error.message}</div>`;
            }
        }
        
        // Run tests when page loads
        window.addEventListener('load', testPageTranslations);
        
        // Instructions for manual testing
        document.body.innerHTML += `
            <h2>Manual Testing Instructions</h2>
            <ol>
                <li>Open the page in the iframe above</li>
                <li>Look for a language selector (usually in the header)</li>
                <li>Switch to Macedonian (mk) language</li>
                <li>Note any English text that remains</li>
                <li>Switch to Albanian (sq) language</li>
                <li>Note any English text that remains</li>
                <li>Test all form fields, buttons, and step navigation</li>
            </ol>
            
            <h3>Expected Translations to Verify:</h3>
            <ul>
                <li><strong>Page Title:</strong> Should be translated</li>
                <li><strong>Step Labels:</strong> Vehicle Type, Basic Info, Details, Photos and Contact</li>
                <li><strong>Form Fields:</strong> Make, Model, Year, Mileage, etc.</li>
                <li><strong>Buttons:</strong> Next Step, Previous, Create Listing</li>
                <li><strong>Placeholders:</strong> All input placeholders should be translated</li>
            </ul>
        `;
    </script>
</body>
</html>
